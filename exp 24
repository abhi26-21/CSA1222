LXI H, 3000H
MOV B, M
INX H
MOV C, M

MOV D, B

LOOP: MOV A, D
MOV E, A

DIV_LOOP: CMP C
JC NOT_DIV
JZ FOUND
SUB C
JMP DIV_LOOP

NOT_DIV: MOV A, E
ADD B
MOV D, A
JMP LOOP

FOUND: LXI H, 3002H
MOV M, D

HLT
